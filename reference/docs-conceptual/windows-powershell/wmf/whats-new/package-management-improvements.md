---
ms.date: 06/12/2017
title: Verbesserungen bei der Paketverwaltung in WMF 5.1
description: Windows PowerShell 5.1 umfasst aktualisierte Cmdlets für die Paketverwaltung.
ms.openlocfilehash: 572ebd1f0aa3cf09579e13c3ea52ae3e979e421f
ms.sourcegitcommit: 488a940c7c828820b36a6ba56c119f64614afc29
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/27/2020
ms.locfileid: "92663187"
---
# <a name="improvements-to-package-management-in-wmf-51"></a><span data-ttu-id="052a5-103">Verbesserungen bei der Paketverwaltung in WMF 5.1</span><span class="sxs-lookup"><span data-stu-id="052a5-103">Improvements to Package Management in WMF 5.1</span></span>

<span data-ttu-id="052a5-104">In WMF 5.1 wurden folgende Probleme behoben:</span><span class="sxs-lookup"><span data-stu-id="052a5-104">The following are the fixes made in the WMF 5.1:</span></span>

## <a name="version-alias"></a><span data-ttu-id="052a5-105">Versionsalias</span><span class="sxs-lookup"><span data-stu-id="052a5-105">Version Alias</span></span>

<span data-ttu-id="052a5-106">**Szenario** : Angenommen, Sie haben Version 1.0 und 2.0 des Pakets P1 auf Ihrem System installiert und möchten nun die Version 1.0 deinstallieren. Deshalb führen Sie `Uninstall-Package -Name P1 -Version 1.0` aus. Sie erwarten, dass Version 1.0 nach dem Ausführen des Cmdlets deinstalliert wurde.</span><span class="sxs-lookup"><span data-stu-id="052a5-106">**Scenario** : If you have version 1.0 and 2.0 of a package, P1, installed on your system, and you want to uninstall version 1.0, you would run `Uninstall-Package -Name P1 -Version 1.0` and expect version 1.0 to be uninstalled after running the cmdlet.</span></span> <span data-ttu-id="052a5-107">Das Ergebnis ist jedoch, dass Version 2.0 deinstalliert wird.</span><span class="sxs-lookup"><span data-stu-id="052a5-107">However the result is that version 2.0 gets uninstalled.</span></span>

<span data-ttu-id="052a5-108">Dies passiert, weil der `-Version`-Parameter ein Alias für den `-MinimumVersion`-Parameter ist.</span><span class="sxs-lookup"><span data-stu-id="052a5-108">This occurs because the `-Version` parameter is an alias of the `-MinimumVersion` parameter.</span></span> <span data-ttu-id="052a5-109">Wenn PackageManagement ein qualifiziertes Paket mit der Mindestversion 1.0 sucht, wird die neueste Version zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="052a5-109">When PackageManagement is looking for a qualified package with the minimum version of 1.0, it returns the latest version.</span></span> <span data-ttu-id="052a5-110">Dieses Verhalten wird normalerweise erwartet, da meistens die neueste Version gefunden werden soll.</span><span class="sxs-lookup"><span data-stu-id="052a5-110">This behavior is expected in normal cases because finding the latest version is usually the desired result.</span></span> <span data-ttu-id="052a5-111">Für `Uninstall-Package` sollte dies aber nicht gelten.</span><span class="sxs-lookup"><span data-stu-id="052a5-111">However, it should not apply to the `Uninstall-Package` case.</span></span>

<span data-ttu-id="052a5-112">**Lösung** : Der Alias `-Version` wurde in PackageManagement (auch bekannt als</span><span class="sxs-lookup"><span data-stu-id="052a5-112">**Solution** :removed `-Version` alias entirely in PackageManagement (a.k.a.</span></span> <span data-ttu-id="052a5-113">OneGet) und PowerShellGet vollständig entfernt.</span><span class="sxs-lookup"><span data-stu-id="052a5-113">OneGet) and PowerShellGet.</span></span>

## <a name="multiple-prompts-for-bootstrapping-the-nuget-provider"></a><span data-ttu-id="052a5-114">Mehrere Aufforderungen zum Bootstrapping des NuGet-Anbieters</span><span class="sxs-lookup"><span data-stu-id="052a5-114">Multiple prompts for bootstrapping the NuGet provider</span></span>

<span data-ttu-id="052a5-115">**Szenario** : Wenn Sie `Find-Module` oder `Install-Module` oder andere PackageManagement-Cmdlets erstmals auf Ihrem Computer ausführen, versucht PackageManagement das Bootstrapping des NuGet-Anbieters.</span><span class="sxs-lookup"><span data-stu-id="052a5-115">**Scenario** : When you run `Find-Module` or `Install-Module` or other PackageManagement cmdlets on your computer for the first time, PackageManagement tries to bootstrap the NuGet provider.</span></span> <span data-ttu-id="052a5-116">Das liegt daran, dass der PowerShellGet-Anbieter auch den NuGet-Anbieter verwendet, um PowerShell-Module herunterzuladen.</span><span class="sxs-lookup"><span data-stu-id="052a5-116">It does this because the PowerShellGet provider also uses the NuGet provider to download PowerShell modules.</span></span>
<span data-ttu-id="052a5-117">PackageManagement fordert dann vom Benutzer die Berechtigung zum Installieren des NuGet-Anbieters an.</span><span class="sxs-lookup"><span data-stu-id="052a5-117">PackageManagement then prompts the user for permission to install the NuGet provider.</span></span> <span data-ttu-id="052a5-118">Nachdem der Benutzer für das Bootstrapping „yes“ ausgewählt hat, wird die neueste Version des NuGet-Anbieters installiert.</span><span class="sxs-lookup"><span data-stu-id="052a5-118">After the user selects "yes" for the bootstrapping, the latest version of the NuGet provider will be installed.</span></span>

<span data-ttu-id="052a5-119">Wenn jedoch eine ältere Version des NuGet-Anbieters auf Ihrem Computer installiert ist, wird mitunter die ältere NuGet-Version zuerst in die PowerShell-Sitzung geladen (was die Racebedingung in PackageManagement ist).</span><span class="sxs-lookup"><span data-stu-id="052a5-119">However, in some cases, when you have an old version of NuGet provider installed on your computer, the older version of NuGet sometimes gets loaded first into the PowerShell session (that's the race condition in PackageManagement).</span></span> <span data-ttu-id="052a5-120">Damit PowerShellGet funktioniert, ist jedoch die neuere Version des NuGet-Anbieters erforderlich. Deshalb wird PackageManagement von PowerShellGet aufgefordert, für den NuGet-Anbieter erneut das Bootstrapping auszuführen.</span><span class="sxs-lookup"><span data-stu-id="052a5-120">However PowerShellGet requires the later version of the NuGet provider to work, so PowerShellGet asks PackageManagement to bootstrap the NuGet provider again.</span></span>
<span data-ttu-id="052a5-121">Dies führt zu mehreren Aufforderungen zum Bootstrapping des NuGet-Anbieters.</span><span class="sxs-lookup"><span data-stu-id="052a5-121">This results in multiple prompts for bootstrapping the NuGet provider.</span></span>

<span data-ttu-id="052a5-122">**Lösung** : In WMF 5.1 lädt PackageManagement die neueste Version des NuGet-Anbieters, um mehrere Aufforderungen zum Bootstrapping des NuGet-Anbieters zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="052a5-122">**Solution** : In WMF5.1, PackageManagement loads the latest version of the NuGet provider to avoid multiple prompts for bootstrapping the NuGet provider.</span></span>

<span data-ttu-id="052a5-123">Es gibt auch eine Umgehung dieses Problems. Löschen Sie dazu manuell die alte Version des NuGet-Anbieters (NuGet-Anycpu.exe), sofern vorhanden, aus „$env:ProgramFiles\PackageManagement\ProviderAssemblies $env:LOCALAPPDATA\PackageManagement\ProviderAssemblies“.</span><span class="sxs-lookup"><span data-stu-id="052a5-123">You could also work around this issue by manually deleting the old version of the NuGet provider (NuGet-Anycpu.exe) if exists from $env:ProgramFiles\PackageManagement\ProviderAssemblies $env:LOCALAPPDATA\PackageManagement\ProviderAssemblies</span></span>

## <a name="support-for-packagemanagement-on-computers-with-intranet-access-only"></a><span data-ttu-id="052a5-124">Unterstützung für PackageManagement auf Computern mit ausschließlichem Intranetzugriff</span><span class="sxs-lookup"><span data-stu-id="052a5-124">Support for PackageManagement on computers with Intranet access only</span></span>

<span data-ttu-id="052a5-125">**Szenario** : Benutzer im Unternehmen haben keinen Zugriff auf das Internet, sondern nur auf das Intranet.</span><span class="sxs-lookup"><span data-stu-id="052a5-125">**Scenario** : For the enterprise scenario, people are working under an environment where there is no Internet access but Intranet only.</span></span> <span data-ttu-id="052a5-126">Dies wurde von PackageManagement in WMF 5.0 nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="052a5-126">PackageManagement did not support this case in WMF 5.0.</span></span>

<span data-ttu-id="052a5-127">**Szenario** : In WMF 5.0 hat PackageManagement keine Computer unterstützt, die nur auf das Intranet (aber nicht auf das Internet) zugreifen dürfen.</span><span class="sxs-lookup"><span data-stu-id="052a5-127">**Scenario** : In WMF 5.0, PackageManagement did not support computers that have only Intranet (but not Internet) access.</span></span>

<span data-ttu-id="052a5-128">**Lösung** : In WMF 5.1 können Sie diese Schritte ausführen, um Intranetcomputern das Verwenden von PackageManagement zu erlauben:</span><span class="sxs-lookup"><span data-stu-id="052a5-128">**Solution** : In WMF 5.1, you can follow these steps to allow Intranet computers to use PackageManagement:</span></span>

1. <span data-ttu-id="052a5-129">Laden Sie den NuGet-Anbieter auf einem anderen Computer mit Internetverbindung mit dem Befehl `Install-PackageProvider -Name NuGet` herunter.</span><span class="sxs-lookup"><span data-stu-id="052a5-129">Download the NuGet provider using another computer that has an Internet connection by using `Install-PackageProvider -Name NuGet`.</span></span>

2. <span data-ttu-id="052a5-130">Suchen Sie den NuGet-Anbieter entweder unter `$env:ProgramFiles\PackageManagement\ProviderAssemblies\nuget` oder `$env:LOCALAPPDATA\PackageManagement\ProviderAssemblies\nuget`.</span><span class="sxs-lookup"><span data-stu-id="052a5-130">Find the NuGet provider under either `$env:ProgramFiles\PackageManagement\ProviderAssemblies\nuget` or `$env:LOCALAPPDATA\PackageManagement\ProviderAssemblies\nuget`.</span></span>

3. <span data-ttu-id="052a5-131">Kopieren Sie die Binärdateien in einen Ordner oder eine Netzwerkfreigabe, auf die der Intranetcomputer zugreifen kann, und installieren Sie den NuGet-Anbieter mit `Install-PackageProvider -Name NuGet -Source <Path to folder>`.</span><span class="sxs-lookup"><span data-stu-id="052a5-131">Copy the binaries to a folder or network share location that the Intranet computer can access, and then install the NuGet provider with `Install-PackageProvider -Name NuGet -Source <Path to folder>`.</span></span>

## <a name="event-logging-improvements"></a><span data-ttu-id="052a5-132">Verbesserungen bei der Ereignisprotokollierung</span><span class="sxs-lookup"><span data-stu-id="052a5-132">Event logging improvements</span></span>

<span data-ttu-id="052a5-133">Wenn Sie Pakete installieren, ändern Sie den Status des Computers.</span><span class="sxs-lookup"><span data-stu-id="052a5-133">When you install packages, you are changing the state of the computer.</span></span> <span data-ttu-id="052a5-134">In WMF 5.1 protokolliert PackageManagement jetzt Ereignisse im Windows-Ereignisprotokoll für die Aktivitäten `Install-Package`, `Uninstall-Package` und `Save-Package`.</span><span class="sxs-lookup"><span data-stu-id="052a5-134">In WMF 5.1, PackageManagement now logs events to the Windows event log for `Install-Package`, `Uninstall-Package`, and `Save-Package` activities.</span></span> <span data-ttu-id="052a5-135">Das Ereignisprotokoll ist dasselbe wie für PowerShell, d. h. `Microsoft-Windows-PowerShell, Operational`.</span><span class="sxs-lookup"><span data-stu-id="052a5-135">The Event log is the same as for PowerShell, that is, `Microsoft-Windows-PowerShell, Operational`.</span></span>

## <a name="support-for-basic-authentication"></a><span data-ttu-id="052a5-136">Unterstützung für Standardauthentifizierung</span><span class="sxs-lookup"><span data-stu-id="052a5-136">Support for basic authentication</span></span>

<span data-ttu-id="052a5-137">In WMF 5.1 unterstützt PackageManagement das Suchen und Installieren von Paketen aus einem Repository, das Standardauthentifizierung erfordert.</span><span class="sxs-lookup"><span data-stu-id="052a5-137">In WMF 5.1, PackageManagement supports finding and installing packages from a repository that requires basic authentication.</span></span> <span data-ttu-id="052a5-138">Sie können Ihre Anmeldeinformationen für die Cmdlets `Find-Package` und `Install-Package` angeben.</span><span class="sxs-lookup"><span data-stu-id="052a5-138">You can supply your credentials to the `Find-Package` and `Install-Package` cmdlets.</span></span> <span data-ttu-id="052a5-139">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="052a5-139">For example:</span></span>

```powershell
Find-Package -Source <SourceWithCredential> -Credential (Get-Credential)
```

## <a name="support-for-using-packagemanagement-behind-a-proxy"></a><span data-ttu-id="052a5-140">Unterstützung für die Verwendung von PackageManagement hinter einem Proxy</span><span class="sxs-lookup"><span data-stu-id="052a5-140">Support for using PackageManagement behind a proxy</span></span>

<span data-ttu-id="052a5-141">In WMF 5.1 verwendet PackageManagement jetzt die neuen Proxyparameter `-ProxyCredential` und `-Proxy`.</span><span class="sxs-lookup"><span data-stu-id="052a5-141">In WMF 5.1, PackageManagement now takes new proxy parameters `-ProxyCredential` and `-Proxy`.</span></span> <span data-ttu-id="052a5-142">Mithilfe dieser Parameter können Sie den Proxy-URL und die Anmeldeinformationen für PackageManagement-Cmdlets angeben.</span><span class="sxs-lookup"><span data-stu-id="052a5-142">Using these parameters, you can specify the proxy URL and credentials to PackageManagement cmdlets.</span></span> <span data-ttu-id="052a5-143">Standardmäßig werden die Proxyeinstellungen des Systems verwendet.</span><span class="sxs-lookup"><span data-stu-id="052a5-143">By default, system proxy settings are used.</span></span> <span data-ttu-id="052a5-144">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="052a5-144">For example:</span></span>

```powershell
Find-Package -Source https://www.nuget.org/api/v2/ -Proxy http://www.myproxyserver.com -ProxyCredential (Get-Credential)
```
